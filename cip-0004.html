<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Abstract &#8212; CIPs  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=b08954a9" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="The problem of communication scaling" href="cip-0003.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <p>CIP: 4
Title: Unified Campus API Schema
Author: Ng Jun Siang
Status: Draft
Created: 22-May-2025</p>
<section id="abstract">
<h1>Abstract<a class="headerlink" href="#abstract" title="Link to this heading">¶</a></h1>
<p>This CIP defines the unified API schema used across the Campus platform. The schema ensures consistency and parity between all platform interfaces, including but not limited to HTTP API, Python client, Terminal CLI, and future interfaces. It also codifies the structure for event emission used in Campus’s event-driven architecture. This design enables multi-interface operability, simplifies integration, and ensures predictable developer experience across subsystems.</p>
</section>
<section id="motivation">
<h1>Motivation<a class="headerlink" href="#motivation" title="Link to this heading">¶</a></h1>
<p>Campus operates as a modular superapp composed of independent sub-apps and services. To scale development across teams and platforms, we need a schema that ensures:</p>
<ul class="simple">
<li><p>API parity across all access interfaces (HTTP, Python, CLI, future)</p></li>
<li><p>Predictable resource naming and access patterns</p></li>
<li><p>Standardized event emission for automation and traceability</p></li>
</ul>
<p>This schema abstracts individual API resource details and instead focuses on the rules and conventions that shape every API surface exposed by Campus.</p>
</section>
<section id="specification">
<h1>Specification<a class="headerlink" href="#specification" title="Link to this heading">¶</a></h1>
<p>The unified API schema defines the structural conventions for each layer:</p>
<section id="verbs-and-actions">
<h2>1. Verbs and Actions<a class="headerlink" href="#verbs-and-actions" title="Link to this heading">¶</a></h2>
<p>The API schema defines a canonical set of verbs that represent operations performed on resources. Each verb maps to one of the HTTP methods: <code class="docutils literal notranslate"><span class="pre">GET</span></code>, <code class="docutils literal notranslate"><span class="pre">POST</span></code>, <code class="docutils literal notranslate"><span class="pre">PATCH</span></code>, <code class="docutils literal notranslate"><span class="pre">PUT</span></code>, or <code class="docutils literal notranslate"><span class="pre">DELETE</span></code>.</p>
<p>For the HTTP API:</p>
<ul class="simple">
<li><p>Common verbs (<code class="docutils literal notranslate"><span class="pre">new</span></code>, <code class="docutils literal notranslate"><span class="pre">get</span></code>, <code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">update</span></code>, <code class="docutils literal notranslate"><span class="pre">delete</span></code>) infer the corresponding HTTP method and require no explicit verb in endpoint specification.</p></li>
<li><p>Non-common verbs must be explicitly declared.</p></li>
<li><p>A full list of verbs for Campus API will be maintained in the Campus API documentation.</p></li>
</ul>
<p>For Python and Terminal interfaces:</p>
<ul class="simple">
<li><p>Verbs must always be explicitly specified.</p></li>
</ul>
</section>
<section id="http-api">
<h2>2. HTTP API<a class="headerlink" href="#http-api" title="Link to this heading">¶</a></h2>
<p>Each endpoint is defined by:</p>
<ul class="simple">
<li><p><strong>HTTP method</strong>: One of <code class="docutils literal notranslate"><span class="pre">GET</span></code>, <code class="docutils literal notranslate"><span class="pre">POST</span></code>, <code class="docutils literal notranslate"><span class="pre">PATCH</span></code>, <code class="docutils literal notranslate"><span class="pre">PUT</span></code>, <code class="docutils literal notranslate"><span class="pre">DELETE</span></code></p></li>
<li><p><strong>Path</strong>: <code class="docutils literal notranslate"><span class="pre">/resource</span></code>, <code class="docutils literal notranslate"><span class="pre">/resource/&lt;id&gt;</span></code>, or <code class="docutils literal notranslate"><span class="pre">/resource/&lt;id&gt;/subresource</span></code></p></li>
<li><p><strong>Action semantics</strong>: Aligned with canonical verbs</p></li>
</ul>
</section>
<section id="python-client">
<h2>3. Python Client<a class="headerlink" href="#python-client" title="Link to this heading">¶</a></h2>
<p>Each verb has a corresponding method in the Campus Python client:</p>
<ul class="simple">
<li><p><strong>List</strong>: <code class="docutils literal notranslate"><span class="pre">.resource.list()</span></code></p></li>
<li><p><strong>Create</strong>: <code class="docutils literal notranslate"><span class="pre">.resource.new()</span></code></p></li>
<li><p><strong>Read</strong>: <code class="docutils literal notranslate"><span class="pre">.resource[&lt;id&gt;].get()</span></code></p></li>
<li><p><strong>Update</strong>: <code class="docutils literal notranslate"><span class="pre">.resource[&lt;id&gt;].update()</span></code></p></li>
<li><p><strong>Delete</strong>: <code class="docutils literal notranslate"><span class="pre">.resource[&lt;id&gt;].delete()</span></code></p></li>
</ul>
<p>Resources and subresources are accessed via attribute-style chaining. Ids, where relevant, are specified as <code class="docutils literal notranslate"><span class="pre">__getitem__()</span></code> calls i.e. using <code class="docutils literal notranslate"><span class="pre">[]</span></code> syntax:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.resource[&lt;id&gt;].subresource.list()</span></code></p></li>
</ul>
</section>
<section id="terminal-cli">
<h2>4. Terminal CLI<a class="headerlink" href="#terminal-cli" title="Link to this heading">¶</a></h2>
<p>The CLI mirrors the unified schema:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">campus</span> <span class="pre">resource</span> <span class="pre">list</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">campus</span> <span class="pre">resource</span> <span class="pre">new</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">campus</span> <span class="pre">resource</span> <span class="pre">&lt;id&gt;</span> <span class="pre">get</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">campus</span> <span class="pre">resource</span> <span class="pre">&lt;id&gt;</span> <span class="pre">update</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">campus</span> <span class="pre">resource</span> <span class="pre">&lt;id&gt;</span> <span class="pre">delete</span></code></p></li>
</ul>
<p>Subresources follow the same pattern, but with ids specified as positional arguments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">campus</span> <span class="pre">resource</span> <span class="pre">&lt;id&gt;</span> <span class="pre">subresource</span> <span class="pre">list</span></code></p></li>
</ul>
</section>
<section id="event-emission">
<h2>5. Event Emission<a class="headerlink" href="#event-emission" title="Link to this heading">¶</a></h2>
<p>All mutative operations (<code class="docutils literal notranslate"><span class="pre">POST</span></code>, <code class="docutils literal notranslate"><span class="pre">PATCH</span></code>, <code class="docutils literal notranslate"><span class="pre">PUT</span></code>, <code class="docutils literal notranslate"><span class="pre">DELETE</span></code>) emit structured events. Events follow a namespaced format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">campus</span><span class="o">.&lt;</span><span class="n">resource</span><span class="o">&gt;.&lt;</span><span class="n">action</span><span class="o">&gt;</span>
<span class="n">campus</span><span class="o">.&lt;</span><span class="n">resource</span><span class="o">&gt;.&lt;</span><span class="n">subresource</span><span class="o">&gt;.&lt;</span><span class="n">action</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Events do not include resource or subresource IDs in the event name. IDs are included in the event payload, and will be described in Campus API documentation.</p>
<p>Examples (abstracted):</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">campus.resource.create</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">campus.resource.update</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">campus.resource.subresource.delete</span></code></p></li>
</ul>
<p>These events are consumed by downstream services for automation, observability, and synchronization.</p>
</section>
</section>
<section id="design-principles">
<h1>Design Principles<a class="headerlink" href="#design-principles" title="Link to this heading">¶</a></h1>
<ul class="simple">
<li><p><strong>Parity</strong>: All interfaces (HTTP, Python, CLI, future) expose the same conceptual operations.</p></li>
<li><p><strong>Predictability</strong>: All resources and actions follow consistent patterns.</p></li>
<li><p><strong>Eventful</strong>: All state changes are tracked through namespaced event emissions.</p></li>
<li><p><strong>Extensibility</strong>: Subresources and new platforms are structurally supported without deviation.</p></li>
<li><p><strong>Minimal coupling</strong>: The schema avoids hard-coding resource parameters in CIP definitions.</p></li>
</ul>
</section>
<section id="future-extensions">
<h1>Future Extensions<a class="headerlink" href="#future-extensions" title="Link to this heading">¶</a></h1>
<ul class="simple">
<li><p><strong>OpenAPI/JSON Schema Generation</strong>: Support for generating OpenAPI documentation automatically from CIP-compliant tables.</p></li>
<li><p><strong>Auth Scoping</strong>: Schema-level declaration of access scopes per verb and resource.</p></li>
<li><p><strong>Deprecation Metadata</strong>: Flagging and phasing out obsolete endpoints across all interfaces.</p></li>
<li><p><strong>Bulk Operations</strong>: Pattern conventions for batch actions (e.g., <code class="docutils literal notranslate"><span class="pre">POST</span> <span class="pre">/resources/bulk</span></code>).</p></li>
<li><p><strong>Event Payload Contracts</strong>: Separate CIP to define payload schemas for emitted events.</p></li>
</ul>
</section>
<section id="rationale">
<h1>Rationale<a class="headerlink" href="#rationale" title="Link to this heading">¶</a></h1>
<p>Having a single schema that drives API design across all Campus interfaces eliminates ambiguity, reduces onboarding friction, and ensures that the system remains coherent even as sub-apps and features proliferate.</p>
<p>This CIP is intended as a foundational contract. All new services must adhere to this schema unless an explicit exemption is approved.</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">CIPs</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">CIP Table of Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="cip-0001.html">What is a CIP?</a></li>
<li class="toctree-l1"><a class="reference internal" href="cip-0002.html">Campus: The Digital College</a></li>
<li class="toctree-l1"><a class="reference internal" href="cip-0003.html">The problem of communication scaling</a></li>
<li class="toctree-l1"><a class="reference internal" href="cip-0003.html#yapper-event-driven-message-broker">Yapper: Event-Driven Message Broker</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Abstract</a></li>
<li class="toctree-l1"><a class="reference internal" href="#motivation">Motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="#specification">Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="#design-principles">Design Principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="#future-extensions">Future Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="#rationale">Rationale</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="cip-0003.html" title="previous chapter">The problem of communication scaling</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, Nanyang System Developers.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.2.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/cip-0004.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>